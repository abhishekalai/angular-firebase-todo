<ng-container *ngIf="task && taskForm">
  <form [formGroup]="taskForm">
    <div mat-dialog-title>
      <h1>
        <input formControlName="title" class="task-title-input">
      </h1>
    </div>
    <div mat-dialog-content style="width: 100%;" fxLayout="row wrap" fxLayoutAlign="start start">
      <mat-form-field appearance="fill" fxFlex="100">
        <mat-label>Due Date</mat-label>
        <input matInput formControlName="dueDate" [matDatepicker]="picker">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>

      </mat-form-field>
      <mat-form-field appearance="fill" fxFlex="100">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          <mat-option *ngFor="let ts of taskStatuses" value="{{ts.value}}">
            {{ts.key}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill" fxFlex="100">
        <mat-label>Priority</mat-label>
        <mat-select formControlName="priority">
          <mat-option *ngFor="let pr of taskPriorities" value="{{pr.value}}">
            {{pr.key}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill" fxFlex="100">
        <mat-label>Bucket</mat-label>
        <mat-select formControlName="bucket">
          <mat-option *ngFor="let bkt of taskBuckets" value="{{bkt.id}}">
            {{bkt.title}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </form>
  <div mat-dialog-actions fxLayout="row" fxLayoutAlign="end center">
    <button mat-stroked-button color="warn" (click)="cancelTaskUpdate()">Cancel</button>
    <button mat-raised-button color="primary" (click)="saveTask()" cdkFocusInitial>Save</button>
  </div>
</ng-container>
